<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="freeboardMapper">

	<!-- 작성 -->
	<insert id="write">
		insert into FREEBOARD(P_NO, USER_ID, FB_TITLE, FB_CONTENT, FB_PHOTO)
		values (FREEBOARD_SEQ.nextval, #{USER_ID}, #{FB_TITLE}, #{FB_CONTENT}, 'photo');
	</insert>

	<!-- 조회 -->
	<select id="read" resultType="com.doggle.vo.FreeboardVO">
		SELECT *
		FROM FREEBOARD WHERE p_no = #{p_no}
	</select>
	
	<!-- 목록 출력 -->
	<select id="list" resultType="com.doggle.vo.FreeboardVO">
		SELECT B_NO, P_NO, USER_ID, FB_TITLE, FB_CONTENT, REGDATE,FB_PHOTO,VIEWCNT,RECOMMEND,REPORTCNT,USE_FLAG
		FROM FREEBOARD WHERE USE_FLAG = 0 order by p_no desc
	</select>
	
	<!-- 수정 -->
	<update id="update">
		update FREEBOARD set
		FB_TITLE = #{FB_TITLE},
		FB_CONTENT = #{FB_CONTENT}
		where p_no = #{p_np}
	</update>
	
	<!-- 삭제 -->
	<delete id="delete">
	delete from FREEBOARD
	where p_no = #{p_no}
	</delete>
	
	
	
</mapper>